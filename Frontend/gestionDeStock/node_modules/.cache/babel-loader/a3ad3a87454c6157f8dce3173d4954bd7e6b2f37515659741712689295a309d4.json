{"ast":null,"code":"import React,{useState}from'react';import{NavLink,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InsertProduct(){const[productName,setProductName]=useState(\"\");const[productPrice,setProductPrice]=useState();const[productBarcode,setProductBarcode]=useState();const[productQuantity,setProductQuantity]=useState();const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const navigate=useNavigate(\"\");const setName=e=>{setProductName(e.target.value);};const setPrice=e=>{setProductPrice(e.target.value);};const setBarcode=e=>{const value=e.target.value.slice(0,12);setProductBarcode(value);};const setQuantity=e=>{// Fonction pour mettre à jour la quantité\nsetProductQuantity(e.target.value);};const addProduct=async e=>{e.preventDefault();if(!productName||!productPrice||!productBarcode||!productQuantity){setError(\"*Please fill in all the required fields.\");return;}setLoading(true);setError(\"\");try{const res=await fetch(\"http://localhost:3001/insertproduct\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"ProductName\":productName,\"ProductPrice\":productPrice,\"ProductBarcode\":productBarcode,\"ProductQuantity\":productQuantity})});await res.json();if(res.status===201){alert(\"Data Inserted\");setProductName(\"\");setProductPrice(0);setProductBarcode(0);setProductQuantity(0);navigate('/products');}else if(res.status===422){alert(\"Product is already added with that barcode.\");}else{setError(\"Something went wrong. Please try again.\");}}catch(err){setError(\"An error occurred. Please try again later.\");console.log(err);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid p-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:\"Enter Product Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 col-lg-6 col-md-6 col-12 fs-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product_name\",className:\"form-label fw-bold\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:setName,value:productName,className:\"form-control fs-5\",id:\"product_name\",placeholder:\"Enter Product Name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 col-lg-6 col-md-6 col-12 fs-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product_price\",className:\"form-label fw-bold\",children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:setPrice,value:productPrice,className:\"form-control fs-5\",id:\"product_price\",placeholder:\"Enter Product Price\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 col-lg-6 col-md-6 col-12 fs-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product_barcode\",className:\"form-label fw-bold\",children:\"Product Barcode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:setBarcode,value:productBarcode,maxLength:12,className:\"form-control fs-5\",id:\"product_barcode\",placeholder:\"Enter Product Barcode\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 mb-5 col-lg-6 col-md-6 col-12 fs-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product_quantity\",className:\"form-label fw-bold\",children:\"Product Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:setQuantity,value:productQuantity,className:\"form-control fs-5\",id:\"product_quantity\",placeholder:\"Enter Product Quantity\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center col-lg-6 col-md-6\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/products\",className:\"btn btn-primary me-5 fs-4\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:addProduct,className:\"btn btn-primary fs-4\",disabled:loading,children:loading?'Inserting...':'Insert'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-center col-lg-6\",children:error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mt-3 fs-5 fw-bold\",children:error})})]});}","map":{"version":3,"names":["React","useState","NavLink","useNavigate","jsx","_jsx","jsxs","_jsxs","InsertProduct","productName","setProductName","productPrice","setProductPrice","productBarcode","setProductBarcode","productQuantity","setProductQuantity","loading","setLoading","error","setError","navigate","setName","e","target","value","setPrice","setBarcode","slice","setQuantity","addProduct","preventDefault","res","fetch","method","headers","body","JSON","stringify","json","status","alert","err","console","log","className","children","htmlFor","type","onChange","id","placeholder","required","maxLength","to","onClick","disabled"],"sources":["/home/lenovo/Gstock/Frontend/gestionDeStock/src/components/InsertProduct.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { NavLink, useNavigate } from 'react-router-dom';\n\n\nexport default function InsertProduct() {\n\n    const [productName, setProductName] = useState(\"\");\n    const [productPrice, setProductPrice] = useState();\n    const [productBarcode, setProductBarcode] = useState();\n    const [productQuantity, setProductQuantity] = useState(); \n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const navigate = useNavigate(\"\");\n\n   \n    const setName = (e) => {\n        setProductName(e.target.value);\n    }\n\n    const setPrice = (e) => {\n        setProductPrice(e.target.value);\n    }\n\n    const setBarcode = (e) => {\n        const value = e.target.value.slice(0, 12);\n        setProductBarcode(value);\n    }\n    const setQuantity = (e) => { // Fonction pour mettre à jour la quantité\n        setProductQuantity(e.target.value);\n    };\n\n    const addProduct = async (e) => {\n        e.preventDefault();\n\n        if (!productName || !productPrice || !productBarcode || !productQuantity ) {\n            setError(\"*Please fill in all the required fields.\");\n            return;\n        }\n\n     \n\n        setLoading(true);\n        setError(\"\");\n\n        try {\n            const res = await fetch(\"http://localhost:3001/insertproduct\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ \"ProductName\": productName, \"ProductPrice\": productPrice, \"ProductBarcode\": productBarcode, \"ProductQuantity\": productQuantity })\n            });\n\n            await res.json();\n\n            if (res.status === 201) {\n                alert(\"Data Inserted\");\n\n                setProductName(\"\");\n                setProductPrice(0);\n                setProductBarcode(0);\n                setProductQuantity(0);\n                navigate('/products');\n            }\n            else if (res.status === 422) {\n                alert(\"Product is already added with that barcode.\");\n            }\n            else {\n                setError(\"Something went wrong. Please try again.\");\n            }\n        } catch (err) {\n            setError(\"An error occurred. Please try again later.\");\n            console.log(err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <div className='container-fluid p-5'>\n             <h1 className=''>Enter Product Information</h1>\n            \n             \n            <div className=\"mt-5 col-lg-6 col-md-6 col-12 fs-4\">\n                <label htmlFor=\"product_name\" className=\"form-label fw-bold\">Product Name</label>\n                <input type=\"text\" onChange={setName} value={productName} className=\"form-control fs-5\" id=\"product_name\" placeholder=\"Enter Product Name\" required />\n            </div>\n            <div className=\"mt-3 col-lg-6 col-md-6 col-12 fs-4\">\n                <label htmlFor=\"product_price\" className=\"form-label fw-bold\">Product Price</label>\n                <input type=\"number\" onChange={setPrice} value={productPrice} className=\"form-control fs-5\" id=\"product_price\" placeholder=\"Enter Product Price\" required />\n            </div>\n            <div className=\"mt-3 col-lg-6 col-md-6 col-12 fs-4\">\n                <label htmlFor=\"product_barcode\" className=\"form-label fw-bold\">Product Barcode</label>\n                <input type=\"number\" onChange={setBarcode} value={productBarcode} maxLength={12} className=\"form-control fs-5\" id=\"product_barcode\" placeholder=\"Enter Product Barcode\" required />\n            </div>\n            <div className=\"mt-3 mb-5 col-lg-6 col-md-6 col-12 fs-4\">\n            <label htmlFor=\"product_quantity\" className=\"form-label fw-bold\">Product Quantity</label>\n            <input type=\"number\" onChange={setQuantity} value={productQuantity} className=\"form-control fs-5\" id=\"product_quantity\" placeholder=\"Enter Product Quantity\" required />\n            </div>\n\n            <div className='d-flex justify-content-center col-lg-6 col-md-6'>\n                <NavLink to=\"/products\" className='btn btn-primary me-5 fs-4'>Cancel</NavLink>\n                <button type=\"submit\" onClick={addProduct} className=\"btn btn-primary fs-4\" disabled={loading}>{loading ? 'Inserting...' : 'Insert'}</button>\n            </div>\n            <div className=\"col text-center col-lg-6\">\n                {error && <div className=\"text-danger mt-3 fs-5 fw-bold\">{error}</div>}\n            </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}